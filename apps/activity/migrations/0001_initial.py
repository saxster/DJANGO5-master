# Generated by Django 5.2.7 on 2025-11-09 10:20

import apps.activity.managers.asset_manager
import apps.activity.managers.attachment_manager
import apps.activity.managers.deviceeventlog_manager
import apps.activity.managers.job.job_manager
import apps.activity.managers.job.jobneed_details_manager
import apps.activity.managers.job.jobneed_manager
import apps.activity.managers.location_manager
import apps.activity.managers.question_manager
import apps.activity.models.asset_model
import apps.activity.models.job.job
import apps.activity.models.job.jobneed
import apps.activity.models.location_model
import apps.activity.models.question_model
import apps.peoples.models.base_model
import concurrency.fields
import django.contrib.gis.db.models.fields
import django.contrib.postgres.fields
import django.core.serializers.json
import django.core.validators
import django.utils.timezone
import uuid
from decimal import Decimal
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = []

    operations = [
        migrations.CreateModel(
            name="Asset",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                ("uuid", models.UUIDField(blank=True, default=uuid.uuid4, unique=True)),
                (
                    "assetcode",
                    models.CharField(max_length=50, verbose_name="Asset Code"),
                ),
                (
                    "assetname",
                    models.CharField(max_length=250, verbose_name="Asset Name"),
                ),
                ("enable", models.BooleanField(default=True, verbose_name="Enable")),
                ("iscritical", models.BooleanField(verbose_name="Critical")),
                (
                    "gpslocation",
                    django.contrib.gis.db.models.fields.PointField(
                        blank=True,
                        geography=True,
                        null=True,
                        srid=4326,
                        verbose_name="GPS Location",
                    ),
                ),
                (
                    "identifier",
                    models.CharField(
                        choices=[
                            ("NONE", "None"),
                            ("ASSET", "Asset"),
                            ("CHECKPOINT", "Checkpoint"),
                            ("NEA", "Non Engineering Asset"),
                        ],
                        default="NONE",
                        max_length=55,
                        verbose_name="Asset Identifier",
                    ),
                ),
                (
                    "runningstatus",
                    models.CharField(
                        choices=[
                            ("MAINTENANCE", "Maintenance"),
                            ("STANDBY", "Standby"),
                            ("WORKING", "Working"),
                            ("SCRAPPED", "Scrapped"),
                        ],
                        max_length=55,
                        null=True,
                        verbose_name="Running Status",
                    ),
                ),
                (
                    "capacity",
                    models.DecimalField(
                        decimal_places=2,
                        default=0.0,
                        max_digits=18,
                        verbose_name="Capacity",
                    ),
                ),
                (
                    "asset_json",
                    models.JSONField(
                        blank=True,
                        default=apps.activity.models.asset_model.asset_json,
                        encoder=django.core.serializers.json.DjangoJSONEncoder,
                        null=True,
                    ),
                ),
            ],
            options={
                "verbose_name": "Asset",
                "verbose_name_plural": "Assets",
                "db_table": "asset",
                "ordering": ["mdtz"],
                "abstract": False,
            },
            managers=[
                ("objects", apps.activity.managers.asset_manager.AssetManager()),
            ],
        ),
        migrations.CreateModel(
            name="AssetFieldHistory",
            fields=[
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        editable=False,
                        primary_key=True,
                        serialize=False,
                    ),
                ),
                (
                    "field_name",
                    models.CharField(
                        help_text="Name of the field that changed",
                        max_length=100,
                        verbose_name="Field Name",
                    ),
                ),
                (
                    "old_value",
                    models.TextField(
                        blank=True,
                        help_text="Previous value (JSON serialized for complex types)",
                        verbose_name="Old Value",
                    ),
                ),
                (
                    "new_value",
                    models.TextField(
                        blank=True,
                        help_text="New value (JSON serialized for complex types)",
                        verbose_name="New Value",
                    ),
                ),
                (
                    "change_reason",
                    models.TextField(
                        blank=True,
                        help_text="Optional reason for the change",
                        verbose_name="Change Reason",
                    ),
                ),
                (
                    "correlation_id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="Correlation ID for tracking related changes",
                        verbose_name="Correlation ID",
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("WEB_UI", "Web UI"),
                            ("MOBILE_APP", "Mobile App"),
                            ("API", "REST API"),
                            ("BULK_IMPORT", "Bulk Import"),
                            ("SYSTEM", "System"),
                            ("MIGRATION", "Data Migration"),
                        ],
                        default="WEB_UI",
                        help_text="Source of the change",
                        max_length=50,
                        verbose_name="Change Source",
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Additional change metadata (IP address, user agent, etc.)",
                        verbose_name="Metadata",
                    ),
                ),
            ],
            options={
                "verbose_name": "Asset Field History",
                "verbose_name_plural": "Asset Field History",
                "db_table": "activity_asset_field_history",
                "ordering": ["-cdtz"],
            },
        ),
        migrations.CreateModel(
            name="AssetHealthScore",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                (
                    "calculated_date",
                    models.DateField(
                        help_text="Date score was calculated",
                        verbose_name="Calculated Date",
                    ),
                ),
                (
                    "health_score",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="Overall health score (0-100, higher is better)",
                        max_digits=5,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(100),
                        ],
                        verbose_name="Health Score",
                    ),
                ),
                (
                    "risk_level",
                    models.CharField(
                        choices=[
                            ("LOW", "Low Risk"),
                            ("MEDIUM", "Medium Risk"),
                            ("HIGH", "High Risk"),
                            ("CRITICAL", "Critical Risk"),
                        ],
                        help_text="Risk level based on health score",
                        max_length=20,
                        verbose_name="Risk Level",
                    ),
                ),
                (
                    "predicted_failure_date",
                    models.DateField(
                        blank=True,
                        help_text="ML-predicted next failure date",
                        null=True,
                        verbose_name="Predicted Failure Date",
                    ),
                ),
                (
                    "recommended_maintenance_date",
                    models.DateField(
                        blank=True,
                        help_text="Recommended next maintenance date",
                        null=True,
                        verbose_name="Recommended Maintenance Date",
                    ),
                ),
                (
                    "factors",
                    models.JSONField(
                        default=dict,
                        help_text="Contributing factors to health score",
                        verbose_name="Health Factors",
                    ),
                ),
            ],
            options={
                "verbose_name": "Asset Health Score",
                "verbose_name_plural": "Asset Health Scores",
                "db_table": "activity_asset_health_score",
                "ordering": ["-calculated_date"],
            },
        ),
        migrations.CreateModel(
            name="AssetLifecycleStage",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                (
                    "stage",
                    models.CharField(
                        choices=[
                            ("ACQUISITION", "Acquisition"),
                            ("INSTALLATION", "Installation"),
                            ("OPERATION", "Operation"),
                            ("MAINTENANCE", "Maintenance"),
                            ("DECOMMISSIONING", "Decommissioning"),
                            ("DISPOSED", "Disposed"),
                        ],
                        max_length=20,
                        verbose_name="Lifecycle Stage",
                    ),
                ),
                (
                    "stage_started",
                    models.DateTimeField(
                        help_text="When this lifecycle stage began",
                        verbose_name="Stage Started",
                    ),
                ),
                (
                    "stage_ended",
                    models.DateTimeField(
                        blank=True,
                        help_text="When this lifecycle stage ended",
                        null=True,
                        verbose_name="Stage Ended",
                    ),
                ),
                (
                    "is_current",
                    models.BooleanField(
                        default=True,
                        help_text="Whether this is the current lifecycle stage",
                        verbose_name="Is Current Stage",
                    ),
                ),
                (
                    "stage_metadata",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Stage-specific metadata (installation date, disposal method, etc.)",
                        verbose_name="Stage Metadata",
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        help_text="Notes about this lifecycle stage",
                        verbose_name="Notes",
                    ),
                ),
            ],
            options={
                "verbose_name": "Asset Lifecycle Stage",
                "verbose_name_plural": "Asset Lifecycle Stages",
                "db_table": "activity_asset_lifecycle_stage",
                "ordering": ["-stage_started"],
            },
        ),
        migrations.CreateModel(
            name="AssetLog",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                ("uuid", models.UUIDField(blank=True, default=uuid.uuid4, unique=True)),
                (
                    "oldstatus",
                    models.CharField(
                        max_length=50, null=True, verbose_name="Old Status"
                    ),
                ),
                (
                    "newstatus",
                    models.CharField(max_length=50, verbose_name="New Status"),
                ),
                ("cdtz", models.DateTimeField(null=True, verbose_name="Created On")),
                (
                    "gpslocation",
                    django.contrib.gis.db.models.fields.PointField(
                        blank=True,
                        geography=True,
                        null=True,
                        srid=4326,
                        verbose_name="GPS Location",
                    ),
                ),
                ("ctzoffset", models.IntegerField(default=-1, verbose_name="TimeZone")),
            ],
            options={
                "verbose_name": "Asset Log",
                "verbose_name_plural": "Asset Logs",
                "db_table": "assetlog",
                "ordering": ["mdtz"],
                "abstract": False,
            },
            managers=[
                ("objects", apps.activity.managers.asset_manager.AssetLogManager()),
            ],
        ),
        migrations.CreateModel(
            name="AssetUtilizationMetric",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                (
                    "date",
                    models.DateField(
                        help_text="Date of measurement", verbose_name="Date"
                    ),
                ),
                (
                    "utilization_percentage",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="Percentage of time asset was in use (0-100%)",
                        max_digits=5,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(100),
                        ],
                        verbose_name="Utilization %",
                    ),
                ),
                (
                    "uptime_hours",
                    models.DecimalField(
                        decimal_places=2,
                        default=0.0,
                        help_text="Total operational hours",
                        max_digits=6,
                        verbose_name="Uptime Hours",
                    ),
                ),
                (
                    "downtime_hours",
                    models.DecimalField(
                        decimal_places=2,
                        default=0.0,
                        help_text="Total downtime hours (maintenance, repairs, etc.)",
                        max_digits=6,
                        verbose_name="Downtime Hours",
                    ),
                ),
                (
                    "idle_hours",
                    models.DecimalField(
                        decimal_places=2,
                        default=0.0,
                        help_text="Hours asset was available but not in use",
                        max_digits=6,
                        verbose_name="Idle Hours",
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Additional utilization metadata",
                        verbose_name="Metadata",
                    ),
                ),
            ],
            options={
                "verbose_name": "Asset Utilization Metric",
                "verbose_name_plural": "Asset Utilization Metrics",
                "db_table": "activity_asset_utilization",
                "ordering": ["-date"],
            },
        ),
        migrations.CreateModel(
            name="Attachment",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                ("uuid", models.UUIDField(blank=True, default=uuid.uuid4, unique=True)),
                (
                    "filepath",
                    models.CharField(default="youtility4_media", max_length=100),
                ),
                ("filename", models.ImageField(default="default.jpg", upload_to="")),
                ("owner", models.CharField(default="None", max_length=255)),
                ("datetime", models.DateTimeField(default=django.utils.timezone.now)),
                (
                    "attachmenttype",
                    models.CharField(
                        choices=[
                            ("NONE", "NONE"),
                            ("ATTACHMENT", "Attachment"),
                            ("REPLY", "Reply"),
                            ("SIGN", "SIGN"),
                            ("METERREADING", "Meter Reading"),
                            ("LOGFILES", "Log Files"),
                        ],
                        default="NONE",
                        max_length=55,
                    ),
                ),
                (
                    "gpslocation",
                    django.contrib.gis.db.models.fields.PointField(
                        default="POINT(0.0 0.0)",
                        geography=True,
                        srid=4326,
                        verbose_name="GPS Location",
                    ),
                ),
                ("size", models.IntegerField(null=True)),
            ],
            options={
                "verbose_name": "Attachment",
                "verbose_name_plural": "Attachments",
                "db_table": "attachment",
                "ordering": ["-datetime", "filename"],
                "get_latest_by": ["mdtz", "cdtz"],
                "abstract": False,
            },
            managers=[
                (
                    "objects",
                    apps.activity.managers.attachment_manager.AttachmentManager(),
                ),
            ],
        ),
        migrations.CreateModel(
            name="DeviceEventlog",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                ("uuid", models.UUIDField(blank=True, default=uuid.uuid4, unique=True)),
                ("deviceid", models.CharField(max_length=55, verbose_name="Device Id")),
                (
                    "eventvalue",
                    models.CharField(
                        choices=[
                            ("stepcount", "Step Count"),
                            ("locationalert", "Location Alert"),
                            ("devicelogs", "Device Logs"),
                            ("login", "Log In"),
                            ("logout", "Log Out"),
                        ],
                        max_length=50,
                        verbose_name="Device Event",
                    ),
                ),
                (
                    "locationserviceenabled",
                    models.BooleanField(
                        default=False, verbose_name="Location Serivice Enabled"
                    ),
                ),
                (
                    "islocationmocked",
                    models.BooleanField(default=False, verbose_name="Location Spoofed"),
                ),
                (
                    "locationpermission",
                    models.CharField(
                        choices=[
                            ("locationalways", "Location Always"),
                            ("onlywhileyusing", "Only While Using"),
                            ("NONE", "NONE"),
                        ],
                        default="NONE",
                        max_length=25,
                    ),
                ),
                (
                    "gpslocation",
                    django.contrib.gis.db.models.fields.PointField(
                        blank=True, geography=True, null=True, srid=4326
                    ),
                ),
                ("accuracy", models.CharField(default="-", max_length=25)),
                ("altitude", models.CharField(default="-", max_length=25)),
                (
                    "receivedon",
                    models.DateTimeField(auto_now_add=True, verbose_name="Received On"),
                ),
                (
                    "batterylevel",
                    models.CharField(
                        default="NA", max_length=50, verbose_name="Battery Level"
                    ),
                ),
                (
                    "signalstrength",
                    models.CharField(
                        default="NA", max_length=50, verbose_name="Signal Strength"
                    ),
                ),
                (
                    "availintmemory",
                    models.CharField(
                        default="NA",
                        max_length=50,
                        verbose_name="Available Internal Memory",
                    ),
                ),
                (
                    "availextmemory",
                    models.CharField(
                        default="NA",
                        max_length=50,
                        verbose_name="Available External Memory",
                    ),
                ),
                (
                    "signalbandwidth",
                    models.CharField(
                        default="NA", max_length=50, verbose_name="Signal Bandwidth"
                    ),
                ),
                (
                    "platformversion",
                    models.CharField(
                        default="NA", max_length=50, verbose_name="Android Version"
                    ),
                ),
                (
                    "applicationversion",
                    models.CharField(
                        default="NA", max_length=50, verbose_name="App Version"
                    ),
                ),
                (
                    "networkprovidername",
                    models.CharField(
                        choices=[
                            ("bluetooth", "Bluetooth"),
                            ("wifi", "WIFI"),
                            ("ethernet", "Ethernet"),
                            ("mobile", "Mobile"),
                            ("none", "None"),
                        ],
                        default="none",
                        max_length=55,
                    ),
                ),
                (
                    "modelname",
                    models.CharField(
                        default="NA", max_length=50, verbose_name="Model Name"
                    ),
                ),
                (
                    "installedapps",
                    models.TextField(default="NA", verbose_name="Installed Apps"),
                ),
                ("stepcount", models.CharField(default="No Steps", max_length=55)),
            ],
            options={
                "verbose_name": "Device Event Log",
                "verbose_name_plural": "Device Event Logs",
                "db_table": "deviceeventlog",
                "ordering": ["-receivedon", "deviceid"],
                "get_latest_by": ["mdtz", "cdtz"],
                "abstract": False,
            },
            managers=[
                ("objects", apps.activity.managers.deviceeventlog_manager.DELManager()),
            ],
        ),
        migrations.CreateModel(
            name="Job",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                ("jobname", models.CharField(max_length=200, verbose_name="Name")),
                (
                    "jobdesc",
                    models.CharField(max_length=500, verbose_name="Description"),
                ),
                ("fromdate", models.DateTimeField(verbose_name="From date")),
                ("uptodate", models.DateTimeField(verbose_name="To date")),
                (
                    "cron",
                    models.CharField(
                        default="* * * * *", max_length=200, verbose_name="Cron Exp."
                    ),
                ),
                (
                    "identifier",
                    models.CharField(
                        choices=[
                            ("TASK", "Task"),
                            ("TICKET", "Ticket"),
                            ("INTERNALTOUR", "Internal Tour"),
                            ("EXTERNALTOUR", "External Tour"),
                            ("PPM", "PPM"),
                            ("OTHER", "Other"),
                            ("SITEREPORT", "Site Report"),
                            ("INCIDENTREPORT", "Incident Report"),
                            ("ASSETLOG", "Asset Log"),
                            ("ASSETMAINTENANCE", "Asset Maintenance"),
                            ("GEOFENCE", "Geofence"),
                        ],
                        db_index=True,
                        max_length=100,
                        null=True,
                        verbose_name="Job Type",
                    ),
                ),
                (
                    "planduration",
                    models.IntegerField(verbose_name="Plan duration (min)"),
                ),
                ("gracetime", models.IntegerField(verbose_name="Grace Time")),
                ("expirytime", models.IntegerField(verbose_name="Expiry Time")),
                (
                    "lastgeneratedon",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="Last generatedon"
                    ),
                ),
                (
                    "priority",
                    models.CharField(
                        choices=[
                            ("HIGH", "High"),
                            ("LOW", "Low"),
                            ("MEDIUM", "Medium"),
                        ],
                        max_length=100,
                        verbose_name="Priority",
                    ),
                ),
                ("seqno", models.SmallIntegerField(verbose_name="Serial No.")),
                ("starttime", models.TimeField(null=True, verbose_name="Start time")),
                ("endtime", models.TimeField(null=True, verbose_name="End time")),
                (
                    "scantype",
                    models.CharField(
                        choices=[
                            ("NONE", "None"),
                            ("QR", "QR"),
                            ("NFC", "NFC"),
                            ("SKIP", "Skip"),
                            ("ENTERED", "Entered"),
                        ],
                        max_length=50,
                        verbose_name="Scan Type",
                    ),
                ),
                (
                    "frequency",
                    models.CharField(
                        choices=[
                            ("NONE", "None"),
                            ("DAILY", "Daily"),
                            ("WEEKLY", "Weekly"),
                            ("MONTHLY", "Monthly"),
                            ("BIMONTHLY", "Bimonthly"),
                            ("QUARTERLY", "Quarterly"),
                            ("HALFYEARLY", "Half Yearly"),
                            ("YEARLY", "Yearly"),
                            ("FORTNIGHTLY", "Fort Nightly"),
                        ],
                        default="NONE",
                        max_length=55,
                        null=True,
                        verbose_name="Frequency type",
                    ),
                ),
                (
                    "other_info",
                    models.JSONField(
                        blank=True,
                        default=apps.activity.models.job.job.other_info,
                        encoder=django.core.serializers.json.DjangoJSONEncoder,
                        verbose_name="Other info",
                    ),
                ),
                (
                    "geojson",
                    models.JSONField(
                        blank=True,
                        default=apps.activity.models.job.job.geojson_jobnjobneed,
                        encoder=django.core.serializers.json.DjangoJSONEncoder,
                        null=True,
                    ),
                ),
                ("enable", models.BooleanField(default=True, verbose_name="Enable")),
                (
                    "version",
                    concurrency.fields.VersionField(
                        default=0, help_text="record revision number"
                    ),
                ),
            ],
            options={
                "verbose_name": "Job",
                "verbose_name_plural": "Jobs",
                "db_table": "job",
                "ordering": ["mdtz"],
                "abstract": False,
            },
            managers=[
                ("objects", apps.activity.managers.job.job_manager.JobManager()),
            ],
        ),
        migrations.CreateModel(
            name="Jobneed",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                ("uuid", models.UUIDField(blank=True, default=uuid.uuid4, unique=True)),
                (
                    "jobdesc",
                    models.CharField(max_length=200, verbose_name="Job Description"),
                ),
                (
                    "plandatetime",
                    models.DateTimeField(null=True, verbose_name="Plan date time"),
                ),
                (
                    "expirydatetime",
                    models.DateTimeField(null=True, verbose_name="Expiry date time"),
                ),
                ("gracetime", models.IntegerField(verbose_name="Grace time")),
                (
                    "receivedonserver",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="Recived on server"
                    ),
                ),
                (
                    "starttime",
                    models.DateTimeField(null=True, verbose_name="Start time"),
                ),
                ("endtime", models.DateTimeField(null=True, verbose_name="Start time")),
                (
                    "gpslocation",
                    django.contrib.gis.db.models.fields.PointField(
                        blank=True,
                        geography=True,
                        null=True,
                        srid=4326,
                        verbose_name="GPS Location",
                    ),
                ),
                (
                    "journeypath",
                    django.contrib.gis.db.models.fields.LineStringField(
                        blank=True, geography=True, null=True, srid=4326
                    ),
                ),
                (
                    "remarks",
                    models.TextField(blank=True, null=True, verbose_name="Remark"),
                ),
                (
                    "frequency",
                    models.CharField(
                        choices=[
                            ("NONE", "None"),
                            ("DAILY", "Daily"),
                            ("WEEKLY", "Weekly"),
                            ("MONTHLY", "Monthly"),
                            ("BIMONTHLY", "Bimonthly"),
                            ("QUARTERLY", "Quarterly"),
                            ("HALFYEARLY", "Half Yearly"),
                            ("YEARLY", "Yearly"),
                            ("FORTNIGHTLY", "Fort Nightly"),
                        ],
                        default="NONE",
                        max_length=55,
                        null=True,
                        verbose_name="Frequency type",
                    ),
                ),
                (
                    "jobstatus",
                    models.CharField(
                        choices=[
                            ("ASSIGNED", "Assigned"),
                            ("AUTOCLOSED", "Auto Closed"),
                            ("COMPLETED", "Completed"),
                            ("INPROGRESS", "Inprogress"),
                            ("PARTIALLYCOMPLETED", "Partially Completed"),
                            ("MAINTENANCE", "Maintenance"),
                            ("STANDBY", "Standby"),
                            ("WORKING", "Working"),
                        ],
                        max_length=60,
                        null=True,
                        verbose_name="Job Status",
                    ),
                ),
                (
                    "jobtype",
                    models.CharField(
                        choices=[("SCHEDULE", "Schedule"), ("ADHOC", "Adhoc")],
                        max_length=50,
                        null=True,
                        verbose_name="Job Type",
                    ),
                ),
                (
                    "priority",
                    models.CharField(
                        choices=[
                            ("HIGH", "High"),
                            ("LOW", "Low"),
                            ("MEDIUM", "Medium"),
                        ],
                        max_length=50,
                        verbose_name="Priority",
                    ),
                ),
                (
                    "scantype",
                    models.CharField(
                        choices=[
                            ("NONE", "None"),
                            ("QR", "QR"),
                            ("NFC", "NFC"),
                            ("SKIP", "Skip"),
                            ("ENTERED", "Entered"),
                        ],
                        default="NONE",
                        max_length=50,
                        verbose_name="Scan type",
                    ),
                ),
                (
                    "identifier",
                    models.CharField(
                        choices=[
                            ("TASK", "Task"),
                            ("TICKET", "Ticket"),
                            ("INTERNALTOUR", "Internal Tour"),
                            ("EXTERNALTOUR", "External Tour"),
                            ("PPM", "PPM"),
                            ("OTHER", "Other"),
                            ("SITEREPORT", "Site Report"),
                            ("INCIDENTREPORT", "Incident Report"),
                            ("ASSETLOG", "Asset Log"),
                            ("ASSETAUDIT", "Asset Audit"),
                            ("ASSETMAINTENANCE", "Asset Maintenance"),
                            ("POSTING_ORDER", "Posting Order"),
                            ("SITESURVEY", "Site Survey"),
                        ],
                        db_index=True,
                        max_length=50,
                        null=True,
                        verbose_name="Jobneed Type",
                    ),
                ),
                (
                    "alerts",
                    models.BooleanField(
                        default=False, null=True, verbose_name="Alerts"
                    ),
                ),
                ("seqno", models.SmallIntegerField(verbose_name="Sl No.")),
                (
                    "othersite",
                    models.CharField(
                        default=None,
                        max_length=100,
                        null=True,
                        verbose_name="Other Site",
                    ),
                ),
                (
                    "multifactor",
                    models.DecimalField(
                        decimal_places=6,
                        default=1,
                        max_digits=10,
                        verbose_name="Multiplication Factor",
                    ),
                ),
                (
                    "raisedtktflag",
                    models.BooleanField(
                        default=False, null=True, verbose_name="RaiseTicketFlag"
                    ),
                ),
                (
                    "ismailsent",
                    models.BooleanField(default=False, verbose_name="Mail Sent"),
                ),
                (
                    "attachmentcount",
                    models.IntegerField(default=0, verbose_name="Attachment Count"),
                ),
                (
                    "other_info",
                    models.JSONField(
                        blank=True,
                        default=apps.activity.models.job.jobneed.other_info,
                        encoder=django.core.serializers.json.DjangoJSONEncoder,
                        verbose_name="Other info",
                    ),
                ),
                (
                    "geojson",
                    models.JSONField(
                        blank=True,
                        default=apps.activity.models.job.jobneed.geojson_jobnjobneed,
                        encoder=django.core.serializers.json.DjangoJSONEncoder,
                        null=True,
                    ),
                ),
                (
                    "deviation",
                    models.BooleanField(
                        default=False, null=True, verbose_name="Deviation"
                    ),
                ),
                (
                    "version",
                    concurrency.fields.VersionField(
                        default=0, help_text="record revision number"
                    ),
                ),
            ],
            options={
                "verbose_name": "Jobneed",
                "verbose_name_plural": "Jobneeds",
                "db_table": "jobneed",
                "ordering": ["mdtz"],
                "abstract": False,
            },
            managers=[
                (
                    "objects",
                    apps.activity.managers.job.jobneed_manager.JobneedManager(),
                ),
            ],
        ),
        migrations.CreateModel(
            name="JobneedDetails",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                ("uuid", models.UUIDField(blank=True, default=uuid.uuid4, unique=True)),
                ("seqno", models.SmallIntegerField(verbose_name="SL No.")),
                (
                    "answertype",
                    models.CharField(
                        choices=[
                            ("CHECKBOX", "Checkbox"),
                            ("DATE", "Date"),
                            ("DROPDOWN", "Dropdown"),
                            ("EMAILID", "Email Id"),
                            ("MULTILINE", "Multiline"),
                            ("NUMERIC", "Numeric"),
                            ("SIGNATURE", "Signature"),
                            ("SINGLELINE", "Single Line"),
                            ("TIME", "Time"),
                            ("RATING", "Rating"),
                            ("BACKCAMERA", "Back Camera"),
                            ("FRONTCAMERA", "Front Camera"),
                            ("PEOPLELIST", "People List"),
                            ("SITELIST", "Site List"),
                            ("NONE", "NONE"),
                            ("METERREADING", "Meter Reading"),
                            ("MULTISELECT", "Multi Select"),
                        ],
                        max_length=50,
                        null=True,
                        verbose_name="Answer Type",
                    ),
                ),
                (
                    "answer",
                    models.CharField(
                        default="", max_length=250, null=True, verbose_name="Answer"
                    ),
                ),
                (
                    "isavpt",
                    models.BooleanField(
                        default=False, verbose_name="Attachement Required"
                    ),
                ),
                (
                    "avpttype",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("BACKCAMPIC", "Back Camera Pic"),
                            ("FRONTCAMPIC", "Front Camera Pic"),
                            ("AUDIO", "Audio"),
                            ("VIDEO", "Video"),
                            ("NONE", "NONE"),
                        ],
                        max_length=50,
                        null=True,
                        verbose_name="Attachment Type",
                    ),
                ),
                (
                    "options",
                    models.CharField(
                        blank=True, max_length=2000, null=True, verbose_name="Option"
                    ),
                ),
                (
                    "min",
                    models.DecimalField(
                        decimal_places=4, max_digits=18, null=True, verbose_name="Min"
                    ),
                ),
                (
                    "max",
                    models.DecimalField(
                        decimal_places=4, max_digits=18, null=True, verbose_name="Max"
                    ),
                ),
                (
                    "alerton",
                    models.CharField(
                        blank=True, max_length=300, null=True, verbose_name="Alert On"
                    ),
                ),
                (
                    "ismandatory",
                    models.BooleanField(default=True, verbose_name="Mandatory"),
                ),
                ("alerts", models.BooleanField(default=False, verbose_name="Alerts")),
                (
                    "attachmentcount",
                    models.IntegerField(default=0, verbose_name="Attachment count"),
                ),
                (
                    "transcript",
                    models.TextField(
                        blank=True, null=True, verbose_name="Audio Transcript"
                    ),
                ),
                (
                    "transcript_status",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("PENDING", "Pending"),
                            ("PROCESSING", "Processing"),
                            ("COMPLETED", "Completed"),
                            ("FAILED", "Failed"),
                        ],
                        max_length=20,
                        null=True,
                        verbose_name="Transcript Status",
                    ),
                ),
                (
                    "transcript_language",
                    models.CharField(
                        blank=True,
                        default="en-US",
                        help_text="Language code used for transcription (e.g., 'en-US', 'hi-IN')",
                        max_length=10,
                        null=True,
                        verbose_name="Transcript Language",
                    ),
                ),
                (
                    "transcript_processed_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Timestamp when transcript processing completed",
                        null=True,
                        verbose_name="Transcript Processed At",
                    ),
                ),
            ],
            options={
                "verbose_name": "JobneedDetails",
                "verbose_name_plural": "Jobneed Details",
                "db_table": "jobneeddetails",
                "ordering": ["mdtz"],
                "abstract": False,
            },
            managers=[
                (
                    "objects",
                    apps.activity.managers.job.jobneed_details_manager.JobneedDetailsManager(),
                ),
            ],
        ),
        migrations.CreateModel(
            name="JobWorkflowAuditLog",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                (
                    "uuid",
                    models.UUIDField(default=uuid.uuid4, editable=False, unique=True),
                ),
                (
                    "operation_type",
                    models.CharField(
                        choices=[
                            ("STATUS_CHANGE", "Status Change"),
                            ("ASSIGNMENT_CHANGE", "Assignment Change"),
                            ("CHECKPOINT_UPDATE", "Checkpoint Update"),
                            ("AUTOCLOSE", "Auto Close"),
                            ("ESCALATION", "Escalation"),
                            ("CREATION", "Creation"),
                            ("DELETION", "Deletion"),
                        ],
                        db_index=True,
                        help_text="Type of workflow operation",
                        max_length=50,
                    ),
                ),
                (
                    "old_status",
                    models.CharField(
                        blank=True,
                        help_text="Previous status value",
                        max_length=60,
                        null=True,
                    ),
                ),
                (
                    "new_status",
                    models.CharField(
                        blank=True,
                        help_text="New status value",
                        max_length=60,
                        null=True,
                    ),
                ),
                (
                    "old_assignment_person_id",
                    models.BigIntegerField(
                        blank=True, help_text="Previous assigned person ID", null=True
                    ),
                ),
                (
                    "new_assignment_person_id",
                    models.BigIntegerField(
                        blank=True, help_text="New assigned person ID", null=True
                    ),
                ),
                (
                    "old_assignment_group_id",
                    models.BigIntegerField(
                        blank=True, help_text="Previous assigned group ID", null=True
                    ),
                ),
                (
                    "new_assignment_group_id",
                    models.BigIntegerField(
                        blank=True, help_text="New assigned group ID", null=True
                    ),
                ),
                (
                    "change_timestamp",
                    models.DateTimeField(
                        auto_now_add=True,
                        db_index=True,
                        help_text="When the change occurred",
                    ),
                ),
                (
                    "lock_acquisition_time_ms",
                    models.IntegerField(
                        blank=True,
                        help_text="Time taken to acquire lock (milliseconds)",
                        null=True,
                    ),
                ),
                (
                    "transaction_duration_ms",
                    models.IntegerField(
                        blank=True,
                        help_text="Total transaction duration (milliseconds)",
                        null=True,
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        default=dict,
                        encoder=django.core.serializers.json.DjangoJSONEncoder,
                        help_text="Additional metadata about the change",
                    ),
                ),
                (
                    "correlation_id",
                    models.CharField(
                        blank=True,
                        db_index=True,
                        help_text="Correlation ID for tracing related operations",
                        max_length=100,
                        null=True,
                    ),
                ),
            ],
            options={
                "verbose_name": "Job Workflow Audit Log",
                "verbose_name_plural": "Job Workflow Audit Logs",
                "db_table": "job_workflow_audit_log",
                "ordering": ["-change_timestamp"],
            },
        ),
        migrations.CreateModel(
            name="Location",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                ("uuid", models.UUIDField(blank=True, default=uuid.uuid4, unique=True)),
                ("loccode", models.CharField(max_length=50, verbose_name="Asset Code")),
                (
                    "locname",
                    models.CharField(max_length=250, verbose_name="Asset Name"),
                ),
                ("enable", models.BooleanField(default=True, verbose_name="Enable")),
                (
                    "iscritical",
                    models.BooleanField(default=False, verbose_name="Critical"),
                ),
                (
                    "gpslocation",
                    django.contrib.gis.db.models.fields.PointField(
                        blank=True,
                        geography=True,
                        null=True,
                        srid=4326,
                        verbose_name="GPS Location",
                    ),
                ),
                (
                    "locstatus",
                    models.CharField(
                        choices=[
                            ("MAINTENANCE", "Maintenance"),
                            ("STANDBY", "Standby"),
                            ("WORKING", "Working"),
                            ("SCRAPPED", "Scrapped"),
                        ],
                        max_length=55,
                        verbose_name="Running Status",
                    ),
                ),
                (
                    "locjson",
                    models.JSONField(
                        blank=True,
                        default=apps.activity.models.location_model.loc_json,
                        encoder=django.core.serializers.json.DjangoJSONEncoder,
                        null=True,
                        verbose_name="Location Json",
                    ),
                ),
            ],
            options={
                "verbose_name": "Location",
                "verbose_name_plural": "Locations",
                "db_table": "location",
                "ordering": ["locname", "loccode"],
                "get_latest_by": ["mdtz", "cdtz"],
                "abstract": False,
            },
            managers=[
                ("objects", apps.activity.managers.location_manager.LocationManager()),
            ],
        ),
        migrations.CreateModel(
            name="MaintenanceCostTracking",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                (
                    "maintenance_date",
                    models.DateField(
                        help_text="Date maintenance was performed",
                        verbose_name="Maintenance Date",
                    ),
                ),
                (
                    "cost",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="Maintenance cost in local currency",
                        max_digits=10,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="Cost",
                    ),
                ),
                (
                    "cost_type",
                    models.CharField(
                        choices=[
                            ("REPAIR", "Repair"),
                            ("INSPECTION", "Inspection"),
                            ("REPLACEMENT", "Replacement"),
                            ("PREVENTIVE", "Preventive Maintenance"),
                            ("EMERGENCY", "Emergency Repair"),
                        ],
                        max_length=20,
                        verbose_name="Cost Type",
                    ),
                ),
                (
                    "description",
                    models.TextField(
                        help_text="Description of maintenance work performed",
                        verbose_name="Description",
                    ),
                ),
                (
                    "vendor_name",
                    models.CharField(
                        blank=True,
                        help_text="External vendor if applicable",
                        max_length=200,
                        verbose_name="Vendor Name",
                    ),
                ),
                (
                    "invoice_number",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Invoice Number"
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Additional cost metadata (parts used, labor hours, etc.)",
                        verbose_name="Metadata",
                    ),
                ),
            ],
            options={
                "verbose_name": "Maintenance Cost",
                "verbose_name_plural": "Maintenance Costs",
                "db_table": "activity_maintenance_cost",
                "ordering": ["-maintenance_date"],
            },
        ),
        migrations.CreateModel(
            name="MeterReading",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                (
                    "uuid",
                    models.UUIDField(default=uuid.uuid4, editable=False, unique=True),
                ),
                (
                    "meter_type",
                    models.CharField(
                        choices=[
                            ("ELECTRICITY", "Electricity Meter"),
                            ("WATER", "Water Meter"),
                            ("GAS", "Gas Meter"),
                            ("DIESEL", "Diesel Meter"),
                            ("TEMPERATURE", "Temperature Gauge"),
                            ("PRESSURE", "Pressure Gauge"),
                            ("FIRE_PRESSURE", "Fire Pressure Gauge"),
                            ("GENERATOR_HOURS", "Generator Hour Meter"),
                            ("FLOW", "Flow Meter"),
                            ("OTHER", "Other Meter"),
                        ],
                        db_index=True,
                        max_length=20,
                        verbose_name="Meter Type",
                    ),
                ),
                (
                    "reading_value",
                    models.DecimalField(
                        decimal_places=3,
                        help_text="Numeric meter reading value",
                        max_digits=15,
                        validators=[
                            django.core.validators.MinValueValidator(Decimal("0"))
                        ],
                        verbose_name="Reading Value",
                    ),
                ),
                (
                    "unit",
                    models.CharField(
                        help_text="Unit of measurement (kWh, L, C, etc.)",
                        max_length=20,
                        verbose_name="Unit",
                    ),
                ),
                (
                    "reading_timestamp",
                    models.DateTimeField(
                        db_index=True,
                        default=django.utils.timezone.now,
                        help_text="When the reading was taken",
                        verbose_name="Reading Timestamp",
                    ),
                ),
                (
                    "capture_method",
                    models.CharField(
                        choices=[
                            ("AI_CAMERA", "AI Camera Capture"),
                            ("MANUAL", "Manual Entry"),
                            ("API_IMPORT", "API Import"),
                            ("SCHEDULED", "Scheduled Capture"),
                        ],
                        default="AI_CAMERA",
                        max_length=20,
                        verbose_name="Capture Method",
                    ),
                ),
                (
                    "confidence_score",
                    models.FloatField(
                        blank=True,
                        help_text="AI confidence score (0-1)",
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(0.0),
                            django.core.validators.MaxValueValidator(1.0),
                        ],
                        verbose_name="Confidence Score",
                    ),
                ),
                (
                    "image_path",
                    models.CharField(
                        blank=True,
                        help_text="Path to original image file",
                        max_length=500,
                        null=True,
                        verbose_name="Image Path",
                    ),
                ),
                (
                    "image_hash",
                    models.CharField(
                        blank=True,
                        help_text="SHA256 hash of image for deduplication",
                        max_length=64,
                        null=True,
                        verbose_name="Image Hash",
                    ),
                ),
                (
                    "raw_ocr_text",
                    models.TextField(
                        blank=True,
                        help_text="Original text extracted by OCR",
                        null=True,
                        verbose_name="Raw OCR Text",
                    ),
                ),
                (
                    "processing_metadata",
                    models.JSONField(
                        default=dict,
                        help_text="OCR and processing details",
                        verbose_name="Processing Metadata",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("PENDING", "Pending Processing"),
                            ("VALIDATED", "Validated"),
                            ("FLAGGED", "Flagged for Review"),
                            ("REJECTED", "Rejected"),
                            ("ANOMALY", "Anomaly Detected"),
                        ],
                        db_index=True,
                        default="PENDING",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "validation_flags",
                    models.JSONField(
                        default=list,
                        help_text="List of validation issues or flags",
                        verbose_name="Validation Flags",
                    ),
                ),
                (
                    "is_anomaly",
                    models.BooleanField(
                        db_index=True,
                        default=False,
                        help_text="Flagged as anomaly by detection algorithm",
                        verbose_name="Is Anomaly",
                    ),
                ),
                (
                    "anomaly_score",
                    models.FloatField(
                        blank=True,
                        help_text="Anomaly detection confidence (0-1)",
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(0.0),
                            django.core.validators.MaxValueValidator(1.0),
                        ],
                        verbose_name="Anomaly Score",
                    ),
                ),
                (
                    "consumption_since_last",
                    models.DecimalField(
                        blank=True,
                        decimal_places=3,
                        help_text="Calculated consumption since last reading",
                        max_digits=15,
                        null=True,
                        verbose_name="Consumption Since Last",
                    ),
                ),
                (
                    "estimated_cost",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Estimated cost for consumption",
                        max_digits=10,
                        null=True,
                        verbose_name="Estimated Cost",
                    ),
                ),
                (
                    "validated_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Validated At"
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        help_text="Additional notes or comments",
                        verbose_name="Notes",
                    ),
                ),
            ],
            options={
                "verbose_name": "Meter Reading",
                "verbose_name_plural": "Meter Readings",
                "ordering": ["-reading_timestamp"],
                "abstract": False,
            },
        ),
        migrations.CreateModel(
            name="MeterReadingAlert",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                (
                    "alert_type",
                    models.CharField(
                        choices=[
                            ("ANOMALY", "Anomaly Detected"),
                            ("HIGH_CONSUMPTION", "High Consumption"),
                            ("LOW_READING", "Suspiciously Low Reading"),
                            ("MAINTENANCE_DUE", "Maintenance Due"),
                            ("COST_THRESHOLD", "Cost Threshold Exceeded"),
                            ("MISSING_READING", "Missing Expected Reading"),
                        ],
                        db_index=True,
                        max_length=20,
                        verbose_name="Alert Type",
                    ),
                ),
                (
                    "severity",
                    models.CharField(
                        choices=[
                            ("LOW", "Low"),
                            ("MEDIUM", "Medium"),
                            ("HIGH", "High"),
                            ("CRITICAL", "Critical"),
                        ],
                        db_index=True,
                        default="MEDIUM",
                        max_length=20,
                        verbose_name="Severity",
                    ),
                ),
                ("message", models.TextField(verbose_name="Alert Message")),
                (
                    "threshold_value",
                    models.DecimalField(
                        blank=True,
                        decimal_places=3,
                        max_digits=15,
                        null=True,
                        verbose_name="Threshold Value",
                    ),
                ),
                (
                    "actual_value",
                    models.DecimalField(
                        blank=True,
                        decimal_places=3,
                        max_digits=15,
                        null=True,
                        verbose_name="Actual Value",
                    ),
                ),
                (
                    "is_acknowledged",
                    models.BooleanField(
                        db_index=True, default=False, verbose_name="Acknowledged"
                    ),
                ),
                (
                    "acknowledged_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Acknowledged At"
                    ),
                ),
                (
                    "resolution_notes",
                    models.TextField(blank=True, verbose_name="Resolution Notes"),
                ),
            ],
            options={
                "verbose_name": "Meter Reading Alert",
                "verbose_name_plural": "Meter Reading Alerts",
                "ordering": ["-cdtz"],
                "abstract": False,
            },
        ),
        migrations.CreateModel(
            name="NFCDevice",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                (
                    "device_id",
                    models.CharField(
                        help_text="Unique identifier for NFC reader device",
                        max_length=100,
                        unique=True,
                        verbose_name="Device ID",
                    ),
                ),
                (
                    "device_name",
                    models.CharField(
                        help_text="Human-readable device name",
                        max_length=200,
                        verbose_name="Device Name",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("ONLINE", "Online"),
                            ("OFFLINE", "Offline"),
                            ("MAINTENANCE", "Maintenance"),
                            ("DECOMMISSIONED", "Decommissioned"),
                        ],
                        default="ONLINE",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "last_active",
                    models.DateTimeField(
                        auto_now=True,
                        help_text="Timestamp of last activity",
                        verbose_name="Last Active",
                    ),
                ),
                (
                    "ip_address",
                    models.GenericIPAddressField(
                        blank=True,
                        help_text="Network IP address of the device",
                        null=True,
                        verbose_name="IP Address",
                    ),
                ),
                (
                    "firmware_version",
                    models.CharField(
                        blank=True,
                        default="",
                        help_text="Device firmware version",
                        max_length=50,
                        verbose_name="Firmware Version",
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Additional device metadata (model, serial, etc.)",
                        verbose_name="Metadata",
                    ),
                ),
            ],
            options={
                "verbose_name": "NFC Device",
                "verbose_name_plural": "NFC Devices",
                "db_table": "activity_nfc_device",
            },
        ),
        migrations.CreateModel(
            name="NFCScanLog",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                (
                    "scan_type",
                    models.CharField(
                        choices=[
                            ("CHECKIN", "Check-In"),
                            ("CHECKOUT", "Check-Out"),
                            ("INSPECTION", "Inspection"),
                            ("INVENTORY", "Inventory"),
                            ("MAINTENANCE", "Maintenance"),
                        ],
                        default="INSPECTION",
                        max_length=20,
                        verbose_name="Scan Type",
                    ),
                ),
                (
                    "scan_result",
                    models.CharField(
                        choices=[
                            ("SUCCESS", "Success"),
                            ("FAILED", "Failed"),
                            ("INVALID_TAG", "Invalid Tag"),
                        ],
                        default="SUCCESS",
                        max_length=20,
                        verbose_name="Scan Result",
                    ),
                ),
                (
                    "response_time_ms",
                    models.IntegerField(
                        blank=True,
                        help_text="Tag response time in milliseconds",
                        null=True,
                        verbose_name="Response Time (ms)",
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Additional scan metadata (RSSI, read quality, etc.)",
                        verbose_name="Metadata",
                    ),
                ),
            ],
            options={
                "verbose_name": "NFC Scan Log",
                "verbose_name_plural": "NFC Scan Logs",
                "db_table": "activity_nfc_scan_log",
                "ordering": ["-cdtz"],
            },
        ),
        migrations.CreateModel(
            name="NFCTag",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                (
                    "tag_uid",
                    models.CharField(
                        help_text="Unique identifier of the NFC tag (hexadecimal)",
                        max_length=50,
                        unique=True,
                        validators=[
                            django.core.validators.RegexValidator(
                                message="Tag UID must be 8-32 hexadecimal characters",
                                regex="^[A-F0-9]{8,32}$",
                            )
                        ],
                        verbose_name="Tag UID",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("ACTIVE", "Active"),
                            ("INACTIVE", "Inactive"),
                            ("DAMAGED", "Damaged"),
                            ("LOST", "Lost"),
                            ("DECOMMISSIONED", "Decommissioned"),
                        ],
                        default="ACTIVE",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "last_scan",
                    models.DateTimeField(
                        blank=True,
                        help_text="Timestamp of most recent scan",
                        null=True,
                        verbose_name="Last Scan",
                    ),
                ),
                (
                    "scan_count",
                    models.IntegerField(
                        default=0,
                        help_text="Total number of scans performed",
                        verbose_name="Scan Count",
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        help_text="Additional tag metadata (tag type, manufacturer, etc.)",
                        verbose_name="Metadata",
                    ),
                ),
            ],
            options={
                "verbose_name": "NFC Tag",
                "verbose_name_plural": "NFC Tags",
                "db_table": "activity_nfc_tag",
            },
        ),
        migrations.CreateModel(
            name="Question",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                ("quesname", models.CharField(max_length=500, verbose_name="Name")),
                (
                    "options",
                    models.TextField(
                        help_text="DEPRECATED: Use options_json instead. Maintained for backward compatibility.",
                        max_length=2000,
                        null=True,
                        verbose_name="Options (Text - DEPRECATED)",
                    ),
                ),
                (
                    "alerton",
                    models.CharField(
                        help_text="DEPRECATED: Use alert_config instead. Maintained for backward compatibility.",
                        max_length=300,
                        null=True,
                        verbose_name="Alert On (Text - DEPRECATED)",
                    ),
                ),
                (
                    "options_json",
                    models.JSONField(
                        blank=True,
                        encoder=django.core.serializers.json.DjangoJSONEncoder,
                        help_text='Structured options array. Format: ["Option1", "Option2", "Option3"]',
                        null=True,
                        verbose_name="Options (JSON)",
                    ),
                ),
                (
                    "alert_config",
                    models.JSONField(
                        blank=True,
                        encoder=django.core.serializers.json.DjangoJSONEncoder,
                        help_text='Structured alert configuration. Format: {"numeric": {"below": 10.5, "above": 90.0}, "choice": ["Alert1"], "enabled": true}',
                        null=True,
                        verbose_name="Alert Configuration",
                    ),
                ),
                (
                    "min",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        default=0.0,
                        max_digits=18,
                        null=True,
                        verbose_name="Min",
                    ),
                ),
                (
                    "max",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        default=0.0,
                        max_digits=18,
                        null=True,
                        verbose_name="Max",
                    ),
                ),
                (
                    "answertype",
                    models.CharField(
                        choices=[
                            ("CHECKBOX", "Checkbox"),
                            ("DATE", "Date"),
                            ("DROPDOWN", "Dropdown"),
                            ("EMAILID", "Emailid"),
                            ("MULTILINE", "Multiline"),
                            ("NUMERIC", "Numeric"),
                            ("SIGNATURE", "Signature"),
                            ("SINGLELINE", "Singleline"),
                            ("TIME", "Time"),
                            ("RATING", "Rating"),
                            ("PEOPLELIST", "Peoplelist"),
                            ("SITELIST", "Sitelist"),
                            ("METERREADING", "Meterreading"),
                            ("MULTISELECT", "Multiselect"),
                            ("GPSLOCATION", "Gpslocation"),
                        ],
                        default="NUMERIC",
                        max_length=55,
                        verbose_name="Type",
                    ),
                ),
                (
                    "isworkflow",
                    models.BooleanField(default=False, verbose_name="WorkFlow"),
                ),
                ("enable", models.BooleanField(default=True, verbose_name="Enable")),
                (
                    "avpttype",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("NONE", "None"),
                            ("BACKCAMPIC", "Backcampic"),
                            ("FRONTCAMPIC", "Frontcampic"),
                            ("AUDIO", "Audio"),
                            ("VIDEO", "Video"),
                        ],
                        max_length=50,
                        null=True,
                        verbose_name="Attachment Type",
                    ),
                ),
                (
                    "isavpt",
                    models.BooleanField(
                        default=False, verbose_name="Attachment Required"
                    ),
                ),
            ],
            options={
                "verbose_name": "Question",
                "verbose_name_plural": "Questions",
                "db_table": "question",
                "ordering": ["mdtz"],
                "abstract": False,
            },
            managers=[
                ("objects", apps.activity.managers.question_manager.QuestionManager()),
            ],
        ),
        migrations.CreateModel(
            name="QuestionSet",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                (
                    "qsetname",
                    models.CharField(max_length=200, verbose_name="QuestionSet Name"),
                ),
                ("enable", models.BooleanField(default=True, verbose_name="Enable")),
                (
                    "assetincludes",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(blank=True, max_length=100),
                        blank=True,
                        null=True,
                        size=None,
                        verbose_name="Asset Includes",
                    ),
                ),
                (
                    "buincludes",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(blank=True, max_length=100),
                        blank=True,
                        null=True,
                        size=None,
                        verbose_name="Bu Includes",
                    ),
                ),
                ("seqno", models.SmallIntegerField(default=1, verbose_name="Sl No.")),
                (
                    "type",
                    models.CharField(
                        choices=[
                            ("ASSET", "Asset"),
                            ("QUESTIONSET", "Questionset"),
                            ("CHECKLIST", "Checklist"),
                            ("RPCHECKLIST", "Rpchecklist"),
                            ("INCIDENTREPORT", "Incidentreporttemplate"),
                            ("SITEREPORT", "Sitereporttemplate"),
                            ("WORKPERMIT", "Workpermittemplate"),
                            ("RETURN_WORK_PERMIT", "Returnworkpermittemplate"),
                            ("KPITEMPLATE", "Kpitemplate"),
                            ("SCRAPPEDTEMPLATE", "Scrappedtemplate"),
                            ("ASSETAUDIT", "Assetaudit"),
                            ("ASSETMAINTENANCE", "Assetmaintenance"),
                            ("WORK_ORDER", "Workorder"),
                            ("SLA_TEMPLATE", "Sla Template"),
                            ("POSTING_ORDER", "Postingorder"),
                            ("SITESURVEY", "Sitesurvey"),
                        ],
                        max_length=50,
                        null=True,
                        verbose_name="Type",
                    ),
                ),
                (
                    "site_grp_includes",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(blank=True, max_length=100),
                        blank=True,
                        null=True,
                        size=None,
                        verbose_name="Site Group Includes",
                    ),
                ),
                (
                    "site_type_includes",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(blank=True, max_length=100),
                        blank=True,
                        null=True,
                        size=None,
                        verbose_name="Site Type Includes",
                    ),
                ),
                (
                    "show_to_all_sites",
                    models.BooleanField(
                        default=False, verbose_name="Applicable to all sites"
                    ),
                ),
                (
                    "url",
                    models.CharField(
                        blank=True,
                        default="NONE",
                        max_length=250,
                        null=True,
                        verbose_name="Url",
                    ),
                ),
            ],
            options={
                "verbose_name": "QuestionSet",
                "verbose_name_plural": "QuestionSets",
                "db_table": "questionset",
                "ordering": ["mdtz"],
                "abstract": False,
            },
            managers=[
                (
                    "objects",
                    apps.activity.managers.question_manager.QuestionSetManager(),
                ),
            ],
        ),
        migrations.CreateModel(
            name="QuestionSetBelonging",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                (
                    "ismandatory",
                    models.BooleanField(default=True, verbose_name="Mandatory"),
                ),
                (
                    "isavpt",
                    models.BooleanField(
                        default=False, verbose_name="Attachment Required"
                    ),
                ),
                ("seqno", models.SmallIntegerField(verbose_name="Seq No.")),
                (
                    "answertype",
                    models.CharField(
                        choices=[
                            ("CHECKBOX", "Checkbox"),
                            ("DATE", "Date"),
                            ("DROPDOWN", "Dropdown"),
                            ("EMAILID", "Emailid"),
                            ("MULTILINE", "Multiline"),
                            ("NUMERIC", "Numeric"),
                            ("SIGNATURE", "Signature"),
                            ("SINGLELINE", "Singleline"),
                            ("TIME", "Time"),
                            ("RATING", "Rating"),
                            ("BACKCAMERA", "Backcamera"),
                            ("FRONTCAMERA", "Frontcamera"),
                            ("PEOPLELIST", "Peoplelist"),
                            ("SITELIST", "Sitelist"),
                            ("NONE", "None"),
                            ("MULTISELECT", "Multiselect"),
                        ],
                        max_length=50,
                        verbose_name="Question Type",
                    ),
                ),
                (
                    "avpttype",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("BACKCAMPIC", "Backcampic"),
                            ("FRONTCAMPIC", "Frontcampic"),
                            ("AUDIO", "Audio"),
                            ("VIDEO", "Video"),
                            ("NONE", "None"),
                        ],
                        max_length=50,
                        null=True,
                        verbose_name="Attachment Type",
                    ),
                ),
                (
                    "max",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        default=0.0,
                        max_digits=18,
                        null=True,
                        verbose_name="Max",
                    ),
                ),
                (
                    "min",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        default=0.0,
                        max_digits=18,
                        null=True,
                        verbose_name="Min",
                    ),
                ),
                (
                    "alerton",
                    models.CharField(
                        blank=True,
                        help_text="DEPRECATED: Use alert_config instead. Maintained for backward compatibility.",
                        max_length=300,
                        null=True,
                        verbose_name="Alert On (Text - DEPRECATED)",
                    ),
                ),
                (
                    "options",
                    models.CharField(
                        blank=True,
                        help_text="DEPRECATED: Use options_json instead. Maintained for backward compatibility.",
                        max_length=2000,
                        null=True,
                        verbose_name="Options (Text - DEPRECATED)",
                    ),
                ),
                (
                    "options_json",
                    models.JSONField(
                        blank=True,
                        encoder=django.core.serializers.json.DjangoJSONEncoder,
                        help_text='Structured options array. Format: ["Option1", "Option2", "Option3"]',
                        null=True,
                        verbose_name="Options (JSON)",
                    ),
                ),
                (
                    "alert_config",
                    models.JSONField(
                        blank=True,
                        encoder=django.core.serializers.json.DjangoJSONEncoder,
                        help_text='Structured alert configuration. Format: {"numeric": {"below": 10.5, "above": 90.0}, "choice": ["Alert1"], "enabled": true}',
                        null=True,
                        verbose_name="Alert Configuration",
                    ),
                ),
                (
                    "alertmails_sendto",
                    models.JSONField(
                        default=apps.activity.models.question_model.alertmails_sendto,
                        encoder=django.core.serializers.json.DjangoJSONEncoder,
                        verbose_name="Alert mails send to",
                    ),
                ),
                (
                    "display_conditions",
                    models.JSONField(
                        blank=True,
                        default=dict,
                        encoder=django.core.serializers.json.DjangoJSONEncoder,
                        help_text="JSON structure for conditional display logic",
                        null=True,
                        verbose_name="Display Conditions",
                    ),
                ),
                (
                    "buincludes",
                    django.contrib.postgres.fields.ArrayField(
                        base_field=models.CharField(blank=True, max_length=100),
                        blank=True,
                        null=True,
                        size=None,
                        verbose_name="Bu Includes",
                    ),
                ),
            ],
            options={
                "verbose_name": "QuestionSetBelonging",
                "verbose_name_plural": "QuestionSetBelongings",
                "db_table": "questionsetbelonging",
                "ordering": ["mdtz"],
                "abstract": False,
            },
            managers=[
                ("objects", apps.activity.managers.question_manager.QsetBlngManager()),
            ],
        ),
        migrations.CreateModel(
            name="VehicleEntry",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                (
                    "uuid",
                    models.UUIDField(default=uuid.uuid4, editable=False, unique=True),
                ),
                (
                    "license_plate",
                    models.CharField(
                        db_index=True,
                        help_text="Vehicle license plate number",
                        max_length=20,
                        validators=[
                            django.core.validators.MinLengthValidator(3),
                            django.core.validators.MaxLengthValidator(15),
                        ],
                        verbose_name="License Plate",
                    ),
                ),
                (
                    "license_plate_clean",
                    models.CharField(
                        db_index=True,
                        help_text="Cleaned license plate without spaces/symbols",
                        max_length=15,
                        verbose_name="License Plate (Clean)",
                    ),
                ),
                (
                    "state_province",
                    models.CharField(
                        blank=True,
                        help_text="State or province of registration",
                        max_length=10,
                        verbose_name="State/Province",
                    ),
                ),
                (
                    "country_code",
                    models.CharField(
                        default="USA",
                        help_text="Country code (ISO 3-letter)",
                        max_length=3,
                        verbose_name="Country Code",
                    ),
                ),
                (
                    "entry_type",
                    models.CharField(
                        choices=[
                            ("ENTRY", "Vehicle Entry"),
                            ("EXIT", "Vehicle Exit"),
                            ("PARKING", "Parking Verification"),
                            ("VISITOR", "Visitor Registration"),
                        ],
                        db_index=True,
                        default="ENTRY",
                        max_length=20,
                        verbose_name="Entry Type",
                    ),
                ),
                (
                    "vehicle_type",
                    models.CharField(
                        choices=[
                            ("CAR", "Car"),
                            ("TRUCK", "Truck"),
                            ("MOTORCYCLE", "Motorcycle"),
                            ("VAN", "Van"),
                            ("BUS", "Bus"),
                            ("OTHER", "Other"),
                        ],
                        default="CAR",
                        max_length=20,
                        verbose_name="Vehicle Type",
                    ),
                ),
                (
                    "entry_timestamp",
                    models.DateTimeField(
                        db_index=True,
                        default=django.utils.timezone.now,
                        help_text="When the vehicle was detected",
                        verbose_name="Entry Timestamp",
                    ),
                ),
                (
                    "detection_zone",
                    models.CharField(
                        blank=True,
                        help_text="Specific zone or camera identifier",
                        max_length=50,
                        verbose_name="Detection Zone",
                    ),
                ),
                (
                    "capture_method",
                    models.CharField(
                        choices=[
                            ("AI_CAMERA", "AI Camera Capture"),
                            ("MANUAL", "Manual Entry"),
                            ("GATE_SENSOR", "Automated Gate Sensor"),
                            ("MOBILE_APP", "Mobile App"),
                        ],
                        default="AI_CAMERA",
                        max_length=20,
                        verbose_name="Capture Method",
                    ),
                ),
                (
                    "confidence_score",
                    models.FloatField(
                        blank=True,
                        help_text="AI confidence score for plate recognition (0-1)",
                        null=True,
                        verbose_name="Confidence Score",
                    ),
                ),
                (
                    "image_path",
                    models.CharField(
                        blank=True,
                        help_text="Path to captured image",
                        max_length=500,
                        null=True,
                        verbose_name="Image Path",
                    ),
                ),
                (
                    "image_hash",
                    models.CharField(
                        blank=True,
                        help_text="SHA256 hash for deduplication",
                        max_length=64,
                        null=True,
                        verbose_name="Image Hash",
                    ),
                ),
                (
                    "raw_ocr_text",
                    models.TextField(
                        blank=True,
                        help_text="Original text extracted by OCR",
                        null=True,
                        verbose_name="Raw OCR Text",
                    ),
                ),
                (
                    "processing_metadata",
                    models.JSONField(
                        default=dict,
                        help_text="OCR and processing details",
                        verbose_name="Processing Metadata",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("PENDING", "Pending Processing"),
                            ("APPROVED", "Approved Entry"),
                            ("DENIED", "Denied Entry"),
                            ("FLAGGED", "Flagged for Review"),
                            ("EXPIRED", "Entry Expired"),
                        ],
                        db_index=True,
                        default="PENDING",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "validation_flags",
                    models.JSONField(
                        default=list,
                        help_text="List of validation issues or flags",
                        verbose_name="Validation Flags",
                    ),
                ),
                (
                    "is_blacklisted",
                    models.BooleanField(
                        db_index=True,
                        default=False,
                        help_text="Vehicle is on security blacklist",
                        verbose_name="Is Blacklisted",
                    ),
                ),
                (
                    "visitor_name",
                    models.CharField(
                        blank=True,
                        help_text="Name for visitor entries",
                        max_length=100,
                        verbose_name="Visitor Name",
                    ),
                ),
                (
                    "visitor_company",
                    models.CharField(
                        blank=True,
                        help_text="Company for visitor entries",
                        max_length=100,
                        verbose_name="Visitor Company",
                    ),
                ),
                (
                    "purpose_of_visit",
                    models.CharField(
                        blank=True,
                        help_text="Reason for visit",
                        max_length=200,
                        verbose_name="Purpose of Visit",
                    ),
                ),
                (
                    "expected_duration_hours",
                    models.PositiveIntegerField(
                        blank=True,
                        help_text="Expected duration of visit in hours",
                        null=True,
                        verbose_name="Expected Duration (Hours)",
                    ),
                ),
                (
                    "exit_timestamp",
                    models.DateTimeField(
                        blank=True,
                        help_text="When vehicle exited (if applicable)",
                        null=True,
                        verbose_name="Exit Timestamp",
                    ),
                ),
                (
                    "actual_duration",
                    models.DurationField(
                        blank=True,
                        help_text="Calculated duration of visit",
                        null=True,
                        verbose_name="Actual Duration",
                    ),
                ),
                (
                    "approved_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Approved At"
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        help_text="Additional notes about the entry",
                        verbose_name="Notes",
                    ),
                ),
            ],
            options={
                "verbose_name": "Vehicle Entry",
                "verbose_name_plural": "Vehicle Entries",
                "ordering": ["-entry_timestamp"],
                "abstract": False,
            },
        ),
        migrations.CreateModel(
            name="VehicleSecurityAlert",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "cdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was created",
                        verbose_name="Created date",
                    ),
                ),
                (
                    "mdtz",
                    models.DateTimeField(
                        default=apps.peoples.models.base_model.now,
                        help_text="When this record was last modified",
                        verbose_name="Modified date",
                    ),
                ),
                (
                    "ctzoffset",
                    models.IntegerField(
                        default=-1,
                        help_text="User's timezone offset in minutes",
                        verbose_name="Timezone offset",
                    ),
                ),
                (
                    "alert_type",
                    models.CharField(
                        choices=[
                            ("BLACKLISTED_VEHICLE", "Blacklisted Vehicle"),
                            ("UNAUTHORIZED_ENTRY", "Unauthorized Entry Attempt"),
                            ("OVERSTAY", "Visitor Overstay"),
                            ("SUSPICIOUS_ACTIVITY", "Suspicious Activity"),
                            ("MULTIPLE_ENTRIES", "Multiple Entries Same Vehicle"),
                            ("LOW_CONFIDENCE", "Low Recognition Confidence"),
                            ("DUPLICATE_IMAGE", "Duplicate Image Detected"),
                        ],
                        db_index=True,
                        max_length=30,
                        verbose_name="Alert Type",
                    ),
                ),
                (
                    "severity",
                    models.CharField(
                        choices=[
                            ("LOW", "Low"),
                            ("MEDIUM", "Medium"),
                            ("HIGH", "High"),
                            ("CRITICAL", "Critical"),
                        ],
                        db_index=True,
                        default="MEDIUM",
                        max_length=20,
                        verbose_name="Severity",
                    ),
                ),
                ("message", models.TextField(verbose_name="Alert Message")),
                (
                    "license_plate",
                    models.CharField(
                        help_text="License plate from the entry",
                        max_length=20,
                        verbose_name="License Plate",
                    ),
                ),
                (
                    "location",
                    models.CharField(
                        blank=True,
                        help_text="Location where alert was triggered",
                        max_length=100,
                        verbose_name="Location",
                    ),
                ),
                (
                    "is_acknowledged",
                    models.BooleanField(
                        db_index=True, default=False, verbose_name="Acknowledged"
                    ),
                ),
                (
                    "acknowledged_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Acknowledged At"
                    ),
                ),
                (
                    "security_response",
                    models.TextField(
                        blank=True,
                        help_text="Action taken by security team",
                        verbose_name="Security Response",
                    ),
                ),
                (
                    "resolution_notes",
                    models.TextField(blank=True, verbose_name="Resolution Notes"),
                ),
            ],
            options={
                "verbose_name": "Vehicle Security Alert",
                "verbose_name_plural": "Vehicle Security Alerts",
                "ordering": ["-cdtz"],
                "abstract": False,
            },
        ),
    ]
