[flake8]
# Django Code Quality Configuration
# Enforces rules from .claude/rules.md

max-line-length = 88
max-complexity = 10

# Architecture Rule Enforcement
# Rule #8: View methods must be < 30 lines (complexity < 10)
max-complexity = 10

extend-ignore =
    # E203: whitespace before ':' (conflicts with black)
    E203,
    # W503: line break before binary operator (conflicts with black)
    W503,
    # E501: line too long (handled by black)
    E501,
    # W504: line break after binary operator (handled by black)
    W504

exclude =
    .git,
    __pycache__,
    migrations,
    venv,
    .venv,
    node_modules,
    .mypy_cache,
    .pytest_cache,
    build,
    dist,
    *.egg-info,
    .tox,
    .eggs

# Django-specific per-file ignores
per-file-ignores =
    # Django settings files - Rule #6: Must be split if > 200 lines
    */settings*.py:E501,F401,F403,C901
    # __init__.py files can have unused imports
    __init__.py:F401
    # Test files can have longer lines and complexity
    test_*.py:E501,C901
    *_test.py:E501,C901
    tests.py:E501,C901
    # Allow long lines in documentation
    */docs/*:E501
    # Django admin can have complex registration
    admin.py:C901
    # Django management commands can be complex
    */management/commands/*.py:C901

# Custom error codes for rule enforcement
select = E,W,F,C

# Security-related checks (complement bandit)
# B001-B999: bandit security issues
# E722: bare except (Rule #11 - no generic exceptions)
enable-extensions =
    # Check for bare except statements (Rule #11)
    E722