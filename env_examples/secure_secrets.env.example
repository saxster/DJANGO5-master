# =============================================================================
# SECURE SECRETS CONFIGURATION EXAMPLE
# =============================================================================
#
# This file provides examples and guidance for configuring secure secrets
# in your Django application environment files.
#
# CRITICAL: This file implements Rule 4: Secure Secret Management
# All secrets are now validated at application startup to prevent security issues.
#
# IMPORTANT NOTES:
# 1. Copy this file to intelliwiz_config/envs/ and rename appropriately
# 2. Generate your own secrets using the commands provided below
# 3. Never commit real secrets to version control
# 4. Test your secrets using: python manage.py check --deploy
# 5. Verify validation with: python manage.py shell -c "from django.conf import settings; print('‚úÖ All secrets validated')"
#
# =============================================================================

# -----------------------------------------------------------------------------
# DJANGO SECRET KEY (CRITICAL)
# -----------------------------------------------------------------------------
# Used for cryptographic signing, session security, password hashing
#
# REQUIREMENTS:
# - Minimum 50 characters (recommended 64+)
# - High entropy (mix of uppercase, lowercase, digits, symbols)
# - Must not contain predictable patterns
# - Generated using cryptographically secure random source
#
# GENERATE A NEW SECRET_KEY:
#   python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
#
# EXAMPLE (DO NOT USE THIS VALUE):
SECRET_KEY=a9B#k2L@m5N$p8Q!r1S%t4U&w7Y*z0Z3C^f6G)h9J+n2M?q5R(s8T7X&A

# -----------------------------------------------------------------------------
# ENCRYPTION KEY (CRITICAL)
# -----------------------------------------------------------------------------
# Used for field-level encryption of sensitive data
#
# REQUIREMENTS:
# - Must be a valid Fernet key (32 bytes, base64 encoded)
# - High entropy cryptographic key
# - Compatible with cryptography.fernet.Fernet
#
# GENERATE A NEW ENCRYPT_KEY:
#   python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
#
# EXAMPLE (DO NOT USE THIS VALUE):
ENCRYPT_KEY=X2L8R5K9M3N7P4Q1S6T8U2V5W9Y3Z7A1B4C8D2E5F9G3H7I1J4K8L2M5N9O3

# -----------------------------------------------------------------------------
# SUPERADMIN PASSWORD (CRITICAL)
# -----------------------------------------------------------------------------
# Password for the superadmin account
#
# REQUIREMENTS:
# - Minimum 12 characters (recommended 16+)
# - Must pass Django's configured password validators:
#   * Not similar to user information (username, email, etc.)
#   * Not a common password
#   * Not entirely numeric
#   * Sufficient character diversity
# - High entropy (mix of character types)
#
# PASSWORD POLICY COMPLIANCE:
# - Uppercase letters (A-Z)
# - Lowercase letters (a-z)
# - Digits (0-9)
# - Special characters (!@#$%^&*()_+-=[]{}|;:,.<>?)
#
# GENERATE A SECURE ADMIN PASSWORD:
#   python -c "import secrets, string; chars = string.ascii_letters + string.digits + '!@#$%^&*()_+-='; print(''.join(secrets.choice(chars) for _ in range(20)))"
#
# EXAMPLE (DO NOT USE THIS VALUE):
SUPERADMIN_PASSWORD=Admin@SecureP@ssw0rd2024!

# -----------------------------------------------------------------------------
# SECRET GENERATION COMMANDS SUMMARY
# -----------------------------------------------------------------------------
# Run these commands to generate all required secrets:
#
# 1. Generate Django SECRET_KEY:
#    python -c "from django.core.management.utils import get_random_secret_key; print(f'SECRET_KEY={get_random_secret_key()}')"
#
# 2. Generate Fernet ENCRYPT_KEY:
#    python -c "from cryptography.fernet import Fernet; print(f'ENCRYPT_KEY={Fernet.generate_key().decode()}')"
#
# 3. Generate secure admin password:
#    python -c "import secrets, string; chars = string.ascii_letters + string.digits + '!@#$%^&*()_+-='; print(f'SUPERADMIN_PASSWORD=Admin{secrets.choice(string.digits)}{secrets.choice(\"!@#$%^&*\")}{\".\".join(secrets.choice(string.ascii_letters) for _ in range(10))}{secrets.choice(\"!@#$\")}')"

# -----------------------------------------------------------------------------
# SECURITY VALIDATION TESTING
# -----------------------------------------------------------------------------
# Test your secrets are properly configured:
#
# 1. Start Django shell and check validation:
#    python manage.py shell
#    >>> from apps.core.validation import validate_secret_key, validate_encryption_key, validate_admin_password
#    >>> from django.conf import settings
#    >>> print("Testing SECRET_KEY...")
#    >>> validate_secret_key("SECRET_KEY", settings.SECRET_KEY)
#    >>> print("‚úÖ SECRET_KEY is valid")
#    >>> print("Testing ENCRYPT_KEY...")
#    >>> validate_encryption_key("ENCRYPT_KEY", settings.ENCRYPT_KEY)
#    >>> print("‚úÖ ENCRYPT_KEY is valid")
#    >>> print("Testing SUPERADMIN_PASSWORD...")
#    >>> validate_admin_password("SUPERADMIN_PASSWORD", settings.SUPERADMIN_PASSWORD)
#    >>> print("‚úÖ SUPERADMIN_PASSWORD is valid")
#
# 2. Run deployment check:
#    python manage.py check --deploy
#
# 3. Test application startup (should not show any secret validation errors):
#    python manage.py runserver --verbosity=2

# -----------------------------------------------------------------------------
# SECURITY BEST PRACTICES
# -----------------------------------------------------------------------------
#
# 1. SECRET ROTATION:
#    - Rotate secrets regularly (quarterly for SECRET_KEY, yearly for others)
#    - Use blue-green deployment for zero-downtime secret rotation
#    - Document secret rotation procedures
#
# 2. SECRET STORAGE:
#    - Use environment-specific files (.env.dev, .env.prod, etc.)
#    - Store production secrets in secure secret management systems
#    - Never commit secrets to version control
#    - Use .gitignore to exclude environment files
#
# 3. ACCESS CONTROL:
#    - Limit access to production secrets
#    - Use separate secrets for each environment
#    - Implement secret access logging
#    - Regular secret access audits
#
# 4. BACKUP AND RECOVERY:
#    - Securely backup production secrets
#    - Document secret recovery procedures
#    - Test secret recovery regularly
#    - Maintain secret inventory
#
# 5. MONITORING:
#    - Monitor for secret usage anomalies
#    - Alert on secret validation failures
#    - Log secret rotation events
#    - Track secret age and compliance

# -----------------------------------------------------------------------------
# OTHER CONFIGURATION VARIABLES
# -----------------------------------------------------------------------------
# Include all other environment variables your application needs
# These examples show common Django settings patterns

# Database Configuration
DBUSER=your_db_user
DBPASS=your_strong_db_password
DBNAME=your_db_name
DBHOST=localhost

# Email Configuration
EMAIL_FROM_ADDRESS=noreply@yourdomain.com
DEFAULT_FROM_EMAIL=noreply@yourdomain.com
AWS_SES_SMTP_USER=your_ses_user
AWS_SES_SMTP_PASSWORD=your_ses_password

# File Storage
MEDIA_ROOT=/path/to/media/files
STATIC_ROOT=/path/to/static/files
TEMP_REPORTS_GENERATED=/path/to/temp/reports
ONDEMAND_REPORTS_GENERATED=/path/to/reports

# External Services
GOOGLE_MAP_SECRET_KEY=your_google_maps_api_key
BULK_IMPORT_GOOGLE_DRIVE_API_KEY=your_drive_api_key

# Security Settings
CUSTOM_SALT=your_custom_salt_value
EMAIL_PAGE_DOMAIN=https://yourdomain.com

# MQTT Configuration (if applicable)
MQTT_BROKER_ADDRESS=your_mqtt_broker
MQTT_BROKER_PORT=1883
MQTT_BROKER_USERNAME=your_mqtt_user
MQTT_BROKER_PASSWORD=your_mqtt_password

# Performance Settings
DATA_UPLOAD_MAX_MEMORY_SIZE=10485760  # 10MB

# Environment-specific flags
DEBUG=False
ENABLE_RATE_LIMITING=True
ENABLE_SECURITY_HEADERS=True
CSRF_COOKIE_SECURE=True
SESSION_COOKIE_SECURE=True
SECURE_SSL_REDIRECT=True

# -----------------------------------------------------------------------------
# VALIDATION TESTING SCRIPT
# -----------------------------------------------------------------------------
# Save this as test_secrets.py and run with: python test_secrets.py
#
# """
# Test script for validating environment secrets
# """
# import os
# import environ
# from apps.core.validation import validate_secret_key, validate_encryption_key, validate_admin_password
#
# env = environ.Env()
#
# # Load environment file
# ENV_FILE = '.env.dev.secure'  # Adjust path as needed
# environ.Env.read_env(ENV_FILE, overwrite=True)
#
# try:
#     print("üîê Testing secret validation...")
#
#     # Test SECRET_KEY
#     secret_key = env("SECRET_KEY")
#     validate_secret_key("SECRET_KEY", secret_key)
#     print("‚úÖ SECRET_KEY validation passed")
#
#     # Test ENCRYPT_KEY
#     encrypt_key = env("ENCRYPT_KEY")
#     validate_encryption_key("ENCRYPT_KEY", encrypt_key)
#     print("‚úÖ ENCRYPT_KEY validation passed")
#
#     # Test SUPERADMIN_PASSWORD
#     admin_password = env("SUPERADMIN_PASSWORD")
#     validate_admin_password("SUPERADMIN_PASSWORD", admin_password)
#     print("‚úÖ SUPERADMIN_PASSWORD validation passed")
#
#     print("\nüéâ All secrets validation successful!")
#     print("Your application is ready for deployment.")
#
# except Exception as e:
#     print(f"\n‚ùå Secret validation failed: {e}")
#     if hasattr(e, 'remediation'):
#         print(f"üîß Remediation: {e.remediation}")
#     print("\nFix the issues above before deploying the application.")
#     exit(1)